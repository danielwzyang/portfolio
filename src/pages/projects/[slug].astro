---
import { getCollection, type CollectionEntry } from "astro:content"

export async function getStaticPaths() {
    const projects = await getCollection("projects")
    return projects.map((project: CollectionEntry<"projects">) => ({
        params: { slug: project.slug }, 
        props: { project }
    }))
}

interface Props {
    project: CollectionEntry<"projects">
}

const { project } = Astro.props

import Layout from "../../Layout.astro"
---

<Layout title={project.data.title} desc={project.data.desc}>
    <div class="mx-3 mt-2 text-[#505050]">
        &lt;- <a href="/" class="hover:underline">home</a> / 
        <a href="/projects" class="hover:underline">projects</a>
    </div>

    <h1 class="mt-3 mb-5 text-2xl mx-auto text-center w-[85vw]">
        {project.data.title}
    </h1>

    <a href={project.data.link[1]}>{project.data.link[0]}</a>

    <p class="w-[500px] max-w-[80vw] mx-auto text-[#505050] text-justify text-wrap">
        {project.body}
    </p>
</Layout>